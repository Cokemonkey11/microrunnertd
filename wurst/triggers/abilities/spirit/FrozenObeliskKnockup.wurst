package FrozenObeliskKnockup
import UnitApi
import DamageType
import DamageDetection
import Knockback3

constant OB_ID = 'h00Y'

function h()
	let dS = GetEventDamageSource()
	let tU = GetTriggerUnit()

	if GetUnitTypeId(dS) == OB_ID and DamageType.get() == DamageType.ATTACK and GetUnitAbilityLevel(tU, UnitApi.IMMUNE) < 1
		if Knockback3.getVel(tU) == 0.
			Knockback3.add(tU, 500., 0., bj_PI/2.)

init
	addOnDamageFunc(function h)
